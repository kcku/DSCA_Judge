[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar Tracker = Package.tracker.Tracker;\nvar Deps = Package.tracker.Deps;\nvar EJSON = Package.ejson.EJSON;\nvar _ = Package.underscore._;\n\n/* Package-scope variables */\nvar ReactiveObject;\n\n(function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                      //\n// packages/mrt_reactive-object/packages/mrt_reactive-object.js                                         //\n//                                                                                                      //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                        //\n(function () {                                                                                          // 1\n                                                                                                        // 2\n///////////////////////////////////////////////////////////////////////////////////////////////////     // 3\n//                                                                                               //     // 4\n// packages/mrt:reactive-object/lib/reactive-object.js                                           //     // 5\n//                                                                                               //     // 6\n///////////////////////////////////////////////////////////////////////////////////////////////////     // 7\n                                                                                                 //     // 8\nReactiveObject = function (properties) {                                                         // 1   // 9\n  var self;                                                                                      // 2   // 10\n  this._definePrivateProperty('_items', {});                                                     // 3   // 11\n  this._definePrivateProperty('_itemsDeps', {});                                                 // 4   // 12\n  self = this;                                                                                   // 5   // 13\n  if (_.isArray(properties)) {                                                                   // 6   // 14\n    _.each(properties, function(prop) {                                                          // 7   // 15\n      return self.defineProperty(prop, void 0);                                                  // 8   // 16\n    });                                                                                          // 9   // 17\n  }                                                                                              // 10  // 18\n  if (_.isObject(properties)) {                                                                  // 11  // 19\n    _.each(properties, function(value, prop) {                                                   // 12  // 20\n      return self.defineProperty(prop, value);                                                   // 13  // 21\n    });                                                                                          // 14  // 22\n  }                                                                                              // 15  // 23\n}                                                                                                // 16  // 24\n                                                                                                 // 17  // 25\nReactiveObject.prototype.wrapArrayMethods = function(name, array){                               // 18  // 26\n  var _this = this,                                                                              // 19  // 27\n        methodNames = ['pop', 'push', 'reverse', 'shift', 'sort', 'slice', 'unshift', 'splice']; // 20  // 28\n                                                                                                 // 21  // 29\n  _.each(methodNames, function(method){                                                          // 22  // 30\n    array[method] = function (){                                                                 // 23  // 31\n      _this._itemsDeps[name].changed();                                                          // 24  // 32\n      return Array.prototype[method].apply(this,arguments);                                      // 25  // 33\n    }                                                                                            // 26  // 34\n  });                                                                                            // 27  // 35\n                                                                                                 // 28  // 36\n  // Add method to return method-free array                                                      // 29  // 37\n  array.clean = function (){                                                                     // 30  // 38\n    return _.filter(this, function(item) {                                                       // 31  // 39\n      return !Match.test(item, Function);                                                        // 32  // 40\n    });                                                                                          // 33  // 41\n  };                                                                                             // 34  // 42\n                                                                                                 // 35  // 43\n  return array;                                                                                  // 36  // 44\n};                                                                                               // 37  // 45\n                                                                                                 // 38  // 46\n                                                                                                 // 39  // 47\nReactiveObject.prototype.defineProperty = function(name, value) {                                // 40  // 48\n  Object.defineProperty(this, name, {                                                            // 41  // 49\n    configurable: true,                                                                          // 42  // 50\n    enumerable: true,                                                                            // 43  // 51\n    get: _.bind(this._propertyGet, this, name),                                                  // 44  // 52\n    set: _.bind(this._propertySet, this, name)                                                   // 45  // 53\n  });                                                                                            // 46  // 54\n                                                                                                 // 47  // 55\n  this[name] = value;                                                                            // 48  // 56\n  return this;                                                                                   // 49  // 57\n};                                                                                               // 50  // 58\n                                                                                                 // 51  // 59\nReactiveObject.prototype.undefineProperty = function(name) {                                     // 52  // 60\n  var dep;                                                                                       // 53  // 61\n  dep = this._itemsDeps[name];                                                                   // 54  // 62\n  delete this[name];                                                                             // 55  // 63\n  delete this._items[name];                                                                      // 56  // 64\n  delete this._itemsDeps[name];                                                                  // 57  // 65\n  if (dep) {                                                                                     // 58  // 66\n    dep.changed();                                                                               // 59  // 67\n  }                                                                                              // 60  // 68\n  return this;                                                                                   // 61  // 69\n};                                                                                               // 62  // 70\n                                                                                                 // 63  // 71\nReactiveObject.prototype.clone = function() {                                                    // 64  // 72\n  return new ReactiveObject(_.clone(this._items));                                               // 65  // 73\n};                                                                                               // 66  // 74\n                                                                                                 // 67  // 75\nReactiveObject.prototype.equals = function(obj) {                                                // 68  // 76\n  return (obj != null) && obj instanceof ReactiveObject && _.isEqual(obj._items, this._items);   // 69  // 77\n};                                                                                               // 70  // 78\n                                                                                                 // 71  // 79\nReactiveObject.prototype.typeName = function() {                                                 // 72  // 80\n  return 'reactive-object';                                                                      // 73  // 81\n};                                                                                               // 74  // 82\n                                                                                                 // 75  // 83\nReactiveObject.prototype.toJSONValue = function() {                                              // 76  // 84\n  return EJSON.toJSONValue(this._items);                                                         // 77  // 85\n};                                                                                               // 78  // 86\n                                                                                                 // 79  // 87\nReactiveObject.prototype._propertySet = function(name, value) {                                  // 80  // 88\n  var _base, _ref;                                                                               // 81  // 89\n                                                                                                 // 82  // 90\n  if(_.isArray(value)){                                                                          // 83  // 91\n    value = this.wrapArrayMethods(name, value);                                                  // 84  // 92\n  }                                                                                              // 85  // 93\n                                                                                                 // 86  // 94\n  this._items[name] = value;                                                                     // 87  // 95\n                                                                                                 // 88  // 96\n  if ((_base = this._itemsDeps)[name] == null) {                                                 // 89  // 97\n    _base[name] = new Deps.Dependency();                                                         // 90  // 98\n  }                                                                                              // 91  // 99\n                                                                                                 // 92  // 100\n  if ((_ref = this._itemsDeps[name]) != null) {                                                  // 93  // 101\n    _ref.changed();                                                                              // 94  // 102\n  }                                                                                              // 95  // 103\n                                                                                                 // 96  // 104\n  return this._items[name];                                                                      // 97  // 105\n};                                                                                               // 98  // 106\n                                                                                                 // 99  // 107\nReactiveObject.prototype._propertyGet = function(name) {                                         // 100\n  this._itemsDeps[name].depend();                                                                // 101\n  return this._items[name];                                                                      // 102\n};                                                                                               // 103\n                                                                                                 // 104\nReactiveObject.prototype._definePrivateProperty = function(name, value) {                        // 105\n  return Object.defineProperty(this, name, {                                                     // 106\n    configurable: true,                                                                          // 107\n    enumerable: false,                                                                           // 108\n    writable: true,                                                                              // 109\n    value: value                                                                                 // 110\n  });                                                                                            // 111\n};                                                                                               // 112\n                                                                                                 // 113\n                                                                                                 // 114\nEJSON.addType('reactive-object', function(jsonObj) {                                             // 115\n  return new ReactiveObject(jsonObj);                                                            // 116\n});                                                                                              // 117\n                                                                                                 // 118\n///////////////////////////////////////////////////////////////////////////////////////////////////     // 127\n                                                                                                        // 128\n}).call(this);                                                                                          // 129\n                                                                                                        // 130\n//////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\n(function (pkg, symbols) {\n  for (var s in symbols)\n    (s in pkg) || (pkg[s] = symbols[s]);\n})(Package['mrt:reactive-object'] = {}, {\n  ReactiveObject: ReactiveObject\n});\n\n})();\n","servePath":"/packages/mrt_reactive-object.js"}]