{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"./problem.js","imported":["ProblemTests"],"specifiers":[{"kind":"named","imported":"ProblemTests","local":"ProblemTests"}]},{"source":"child_process","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ps"}]},{"source":"fs","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"fs"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/api/_problem.js","filenameRelative":"imports/api/_problem.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/api/_problem.js.map","sourceFileName":"imports/api/_problem.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"_problem"},"ignored":false,"code":"var ProblemTests = void 0;\nmodule.watch(require(\"./problem.js\"), {\n\tProblemTests: function (v) {\n\t\tProblemTests = v;\n\t}\n}, 0);\nvar ps = void 0;\nmodule.watch(require(\"child_process\"), {\n\t\"default\": function (v) {\n\t\tps = v;\n\t}\n}, 1);\nvar fs = void 0;\nmodule.watch(require(\"fs\"), {\n\t\"default\": function (v) {\n\t\tfs = v;\n\t}\n}, 2);\nMeteor.methods({\n\t'ProblemTests.createDir': function (id) {\n\t\tvar problemTest = ProblemTests.findOne({\n\t\t\t_id: id\n\t\t});\n\t\tvar dirpath = Meteor.dataPath + id;\n\t\tMeteor.wrapAsync(fs.mkdir)(dirpath);\n\t\tMeteor.call('ProblemTests.writeFile', id, 'input', problemTest.input);\n\t\tMeteor.call('ProblemTests.writeFile', id, 'output', problemTest.output);\n\t},\n\t'ProblemTests.writeFile': function (id, field, content) {\n\t\tvar filepath = Meteor.dataPath + id + '/' + field;\n\t\tMeteor.wrapAsync(fs.writeFile)(filepath, content);\n\t},\n\t'ProblemTests.removeDir': function (id) {\n\t\tvar dirpath = Meteor.dataPath + id;\n\t\tMeteor.wrapAsync(ps.exec)('rm -rf ' + dirpath);\n\t}\n});","map":{"version":3,"sources":["imports/api/_problem.js"],"names":["ProblemTests","module","watch","require","v","ps","fs","Meteor","methods","id","problemTest","findOne","_id","dirpath","dataPath","wrapAsync","mkdir","call","input","output","field","content","filepath","writeFile","exec"],"mappings":"AAAA,IAAIA,qBAAJ;AAAiBC,OAAOC,KAAP,CAAaC,QAAQ,cAAR,CAAb,EAAqC;AAACH,aAAD,YAAcI,CAAd,EAAgB;AAACJ,iBAAaI,CAAb;AAAe;AAAhC,CAArC,EAAuE,CAAvE;AAA0E,IAAIC,WAAJ;AAAOJ,OAAOC,KAAP,CAAaC,QAAQ,eAAR,CAAb,EAAsC;AAAA,sBAASC,CAAT,EAAW;AAACC,OAAGD,CAAH;AAAK;AAAjB,CAAtC,EAAyD,CAAzD;AAA4D,IAAIE,WAAJ;AAAOL,OAAOC,KAAP,CAAaC,QAAQ,IAAR,CAAb,EAA2B;AAAA,sBAASC,CAAT,EAAW;AAACE,OAAGF,CAAH;AAAK;AAAjB,CAA3B,EAA8C,CAA9C;AAIrKG,OAAOC,OAAP,CAAe;AACd,yBADc,YACWC,EADX,EACe;AAC5B,MAAMC,cAAcV,aAAaW,OAAb,CAAqB;AAAEC,QAAKH;AAAP,GAArB,CAApB;AACA,MAAMI,UAAUN,OAAOO,QAAP,GAAgBL,EAAhC;AAEAF,SAAOQ,SAAP,CAAiBT,GAAGU,KAApB,EAA2BH,OAA3B;AACAN,SAAOU,IAAP,CAAY,wBAAZ,EAAsCR,EAAtC,EAA0C,OAA1C,EAAmDC,YAAYQ,KAA/D;AACAX,SAAOU,IAAP,CAAY,wBAAZ,EAAsCR,EAAtC,EAA0C,QAA1C,EAAoDC,YAAYS,MAAhE;AACA,EARa;AASd,yBATc,YASWV,EATX,EASeW,KATf,EASsBC,OATtB,EAS+B;AAC5C,MAAMC,WAAWf,OAAOO,QAAP,GAAgBL,EAAhB,GAAmB,GAAnB,GAAuBW,KAAxC;AACAb,SAAOQ,SAAP,CAAiBT,GAAGiB,SAApB,EAA+BD,QAA/B,EAAyCD,OAAzC;AACA,EAZa;AAad,yBAbc,YAaWZ,EAbX,EAae;AAC5B,MAAMI,UAAUN,OAAOO,QAAP,GAAgBL,EAAhC;AACAF,SAAOQ,SAAP,CAAiBV,GAAGmB,IAApB,EAA0B,YAAUX,OAApC;AACA;AAhBa,CAAf","file":"imports/api/_problem.js.map","sourcesContent":["import { ProblemTests } from './problem.js';\nimport ps from 'child_process';\nimport fs from 'fs';\n\nMeteor.methods({\n\t'ProblemTests.createDir'(id) {\n\t\tconst problemTest = ProblemTests.findOne({ _id: id });\n\t\tconst dirpath = Meteor.dataPath+id;\n\n\t\tMeteor.wrapAsync(fs.mkdir)(dirpath);\n\t\tMeteor.call('ProblemTests.writeFile', id, 'input', problemTest.input);\n\t\tMeteor.call('ProblemTests.writeFile', id, 'output', problemTest.output);\n\t},\n\t'ProblemTests.writeFile'(id, field, content) {\n\t\tconst filepath = Meteor.dataPath+id+'/'+field;\n\t\tMeteor.wrapAsync(fs.writeFile)(filepath, content);\n\t},\n\t'ProblemTests.removeDir'(id) {\t\n\t\tconst dirpath = Meteor.dataPath+id;\n\t\tMeteor.wrapAsync(ps.exec)('rm -rf '+dirpath);\n\t}\n});"]},"hash":"2ba139bd895a8fbc730a68948f27e988f634cd3d"}
