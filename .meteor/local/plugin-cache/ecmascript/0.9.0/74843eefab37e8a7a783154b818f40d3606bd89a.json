{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"/imports/api/problem.js","imported":["Problems"],"specifiers":[{"kind":"named","imported":"Problems","local":"Problems"}]},{"source":"./detail.html","imported":[],"specifiers":[]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/problem/detail.js","filenameRelative":"imports/ui/problem/detail.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/problem/detail.js.map","sourceFileName":"imports/ui/problem/detail.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"detail"},"ignored":false,"code":"var Problems = void 0;\nmodule.watch(require(\"/imports/api/problem.js\"), {\n\tProblems: function (v) {\n\t\tProblems = v;\n\t}\n}, 0);\nmodule.watch(require(\"./detail.html\"));\nTemplate.problem_detail.onCreated(function () {\n\tvar _this = this;\n\n\tthis.autorun(function () {\n\t\treturn _this.subscribe('Problems.findOne', _this.data.currentProblemId.get());\n\t});\n});\nTemplate.problem_detail.onRendered(function () {\n\tthis.$('.nav-link')[0].click();\n\tthis.$('[class*=edit]').hide();\n});\nTemplate.problem_detail.helpers({\n\tcurrentProblem: function () {\n\t\tvar problem = Problems.findOne({\n\t\t\t_id: this.currentProblemId.get()\n\t\t});\n\n\t\tif (problem == undefined) {\n\t\t\tthis.currentProblemId.set(null);\n\t\t}\n\n\t\treturn problem;\n\t}\n});\nTemplate.problem_detail.events({\n\t'blur [class*=edit]': function (event, instance) {\n\t\tvar _Meteor$call;\n\n\t\tvar target = event.currentTarget;\n\t\tvar toggle = target.dataset.toggle;\n\t\tvar field = target.name;\n\t\tvar value = target.value;\n\t\tinstance.$(target).hide();\n\t\tinstance.$(toggle).show();\n\t\tMeteor.call('Problems.update', this.currentProblemId.get(), (_Meteor$call = {}, _Meteor$call[field] = value, _Meteor$call));\n\t},\n\t'click [class*=view]': function (event, instance) {\n\t\tif (!Meteor.isAdmin()) return;\n\t\tvar target = event.currentTarget;\n\t\tvar toggle = target.dataset.toggle;\n\t\tinstance.$(target).hide();\n\t\tinstance.$(toggle).show().focus();\n\t},\n\t'click [type=checkbox]': function (event) {\n\t\tvar _Meteor$call2;\n\n\t\tvar target = event.currentTarget;\n\t\tvar field = target.name;\n\t\tvar value = target.checked;\n\t\tMeteor.call('Problems.update', this.currentProblemId.get(), (_Meteor$call2 = {}, _Meteor$call2[field] = value, _Meteor$call2));\n\t}\n});","map":{"version":3,"sources":["imports/ui/problem/detail.js"],"names":["Problems","module","watch","require","v","Template","problem_detail","onCreated","autorun","subscribe","data","currentProblemId","get","onRendered","$","click","hide","helpers","currentProblem","problem","findOne","_id","undefined","set","events","event","instance","target","currentTarget","toggle","dataset","field","name","value","show","Meteor","call","isAdmin","focus","checked"],"mappings":"AAAA,IAAIA,iBAAJ;AAAaC,OAAOC,KAAP,CAAaC,QAAQ,yBAAR,CAAb,EAAgD;AAACH,SAAD,YAAUI,CAAV,EAAY;AAACJ,aAASI,CAAT;AAAW;AAAxB,CAAhD,EAA0E,CAA1E;AAA6EH,OAAOC,KAAP,CAAaC,QAAQ,eAAR,CAAb;AAG1FE,SAASC,cAAT,CAAwBC,SAAxB,CAAkC,YAAW;AAAA;;AAC5C,MAAKC,OAAL,CAAa;AAAA,SAAM,MAAKC,SAAL,CAAe,kBAAf,EAAmC,MAAKC,IAAL,CAAUC,gBAAV,CAA2BC,GAA3B,EAAnC,CAAN;AAAA,EAAb;AACA,CAFD;AAIAP,SAASC,cAAT,CAAwBO,UAAxB,CAAmC,YAAW;AAC7C,MAAKC,CAAL,CAAO,WAAP,EAAoB,CAApB,EAAuBC,KAAvB;AACA,MAAKD,CAAL,CAAO,eAAP,EAAwBE,IAAxB;AACA,CAHD;AAKAX,SAASC,cAAT,CAAwBW,OAAxB,CAAgC;AAC/BC,eAD+B,cACd;AAChB,MAAMC,UAAUnB,SAASoB,OAAT,CAAiB;AAAEC,QAAK,KAAKV,gBAAL,CAAsBC,GAAtB;AAAP,GAAjB,CAAhB;;AAEA,MAAIO,WAAWG,SAAf,EAA0B;AACzB,QAAKX,gBAAL,CAAsBY,GAAtB,CAA0B,IAA1B;AACA;;AACD,SAAOJ,OAAP;AACA;AAR8B,CAAhC;AAWAd,SAASC,cAAT,CAAwBkB,MAAxB,CAA+B;AAC9B,qBAD8B,YACTC,KADS,EACFC,QADE,EACQ;AAAA;;AACrC,MAAMC,SAASF,MAAMG,aAArB;AACA,MAAMC,SAASF,OAAOG,OAAP,CAAeD,MAA9B;AACA,MAAME,QAAQJ,OAAOK,IAArB;AACA,MAAMC,QAAQN,OAAOM,KAArB;AAEAP,WAASZ,CAAT,CAAWa,MAAX,EAAmBX,IAAnB;AACAU,WAASZ,CAAT,CAAWe,MAAX,EAAmBK,IAAnB;AAEAC,SAAOC,IAAP,CAAY,iBAAZ,EAA+B,KAAKzB,gBAAL,CAAsBC,GAAtB,EAA/B,mCAA+DmB,KAA/D,IAAuEE,KAAvE;AACA,EAX6B;AAY9B,sBAZ8B,YAYRR,KAZQ,EAYDC,QAZC,EAYS;AACtC,MAAI,CAACS,OAAOE,OAAP,EAAL,EAAuB;AAEvB,MAAMV,SAASF,MAAMG,aAArB;AACA,MAAMC,SAASF,OAAOG,OAAP,CAAeD,MAA9B;AAEAH,WAASZ,CAAT,CAAWa,MAAX,EAAmBX,IAAnB;AACAU,WAASZ,CAAT,CAAWe,MAAX,EAAmBK,IAAnB,GAA0BI,KAA1B;AACA,EApB6B;AAqB9B,wBArB8B,YAqBNb,KArBM,EAqBC;AAAA;;AAC9B,MAAME,SAASF,MAAMG,aAArB;AACA,MAAMG,QAAQJ,OAAOK,IAArB;AACA,MAAMC,QAAQN,OAAOY,OAArB;AAEAJ,SAAOC,IAAP,CAAY,iBAAZ,EAA+B,KAAKzB,gBAAL,CAAsBC,GAAtB,EAA/B,qCAA+DmB,KAA/D,IAAuEE,KAAvE;AACA;AA3B6B,CAA/B","file":"imports/ui/problem/detail.js.map","sourcesContent":["import { Problems } from '/imports/api/problem.js';\r\nimport './detail.html';\r\n\r\nTemplate.problem_detail.onCreated(function() {\r\n\tthis.autorun(() => this.subscribe('Problems.findOne', this.data.currentProblemId.get()));\r\n});\r\n\r\nTemplate.problem_detail.onRendered(function() {\r\n\tthis.$('.nav-link')[0].click();\r\n\tthis.$('[class*=edit]').hide();\r\n});\r\n\r\nTemplate.problem_detail.helpers({\r\n\tcurrentProblem() {\r\n\t\tconst problem = Problems.findOne({ _id: this.currentProblemId.get() });\r\n\r\n\t\tif (problem == undefined) {\r\n\t\t\tthis.currentProblemId.set(null);\r\n\t\t}\r\n\t\treturn problem;\r\n\t}\r\n});\r\n\r\nTemplate.problem_detail.events({\r\n\t'blur [class*=edit]'(event, instance) {\r\n\t\tconst target = event.currentTarget;\r\n\t\tconst toggle = target.dataset.toggle;\r\n\t\tconst field = target.name;\r\n\t\tconst value = target.value;\r\n\r\n\t\tinstance.$(target).hide();\r\n\t\tinstance.$(toggle).show();\r\n\t\t\r\n\t\tMeteor.call('Problems.update', this.currentProblemId.get(), { [field]: value });\r\n\t},\r\n\t'click [class*=view]'(event, instance) {\r\n\t\tif (!Meteor.isAdmin()) return;\r\n\t\t\r\n\t\tconst target = event.currentTarget;\r\n\t\tconst toggle = target.dataset.toggle;\r\n\r\n\t\tinstance.$(target).hide();\r\n\t\tinstance.$(toggle).show().focus();\r\n\t},\r\n\t'click [type=checkbox]'(event) {\r\n\t\tconst target = event.currentTarget;\r\n\t\tconst field = target.name;\r\n\t\tconst value = target.checked;\r\n\r\n\t\tMeteor.call('Problems.update', this.currentProblemId.get(), { [field]: value });\r\n\t}\r\n});"]},"hash":"74843eefab37e8a7a783154b818f40d3606bd89a"}
