{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"/imports/api/submission.js","imported":["Submissions"],"specifiers":[{"kind":"named","imported":"Submissions","local":"Submissions"}]},{"source":"./list.html","imported":[],"specifiers":[]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/submission/list.js","filenameRelative":"imports/ui/submission/list.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/submission/list.js.map","sourceFileName":"imports/ui/submission/list.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"list"},"ignored":false,"code":"var Submissions = void 0;\nmodule.watch(require(\"/imports/api/submission.js\"), {\n\tSubmissions: function (v) {\n\t\tSubmissions = v;\n\t}\n}, 0);\nmodule.watch(require(\"./list.html\"));\nTemplate.submission_list.onCreated(function () {\n\tvar _this = this;\n\n\tthis.autorun(function () {\n\t\tvar problemId = _this.data.currentProblemId ? _this.data.currentProblemId.get() : null;\n\t\tvar studentId = _this.data.currentStudentId ? _this.data.currentStudentId.get() : null;\n\n\t\t_this.subscribe('Submissions.findAllByFilter', problemId, studentId);\n\t});\n});\nTemplate.submission_list.helpers({\n\tsubmissionList: function () {\n\t\tvar problemId = this.currentProblemId ? this.currentProblemId.get() : null;\n\t\tvar studentId = this.currentStudentId ? this.currentStudentId.get() : null;\n\t\tvar filter = {\n\t\t\t$or: [{\n\t\t\t\tproblemId: problemId\n\t\t\t}, {\n\t\t\t\tstudentId: studentId\n\t\t\t}]\n\t\t};\n\t\treturn Submissions.find(filter, {\n\t\t\tsort: {\n\t\t\t\tcreatedAt: -1\n\t\t\t}\n\t\t});\n\t}\n});\nTemplate.submission_list.events({\n\t'click .remove-btn': function (event) {\n\t\tvar id = event.currentTarget.dataset.id;\n\t\tMeteor.call('Submissions.remove', {\n\t\t\t_id: id\n\t\t});\n\t},\n\t'click .get-btn': function (event) {\n\t\tvar id = event.currentTarget.dataset.id;\n\t\tthis.currentSubmissionId.set(id);\n\t}\n});","map":{"version":3,"sources":["imports/ui/submission/list.js"],"names":["Submissions","module","watch","require","v","Template","submission_list","onCreated","autorun","problemId","data","currentProblemId","get","studentId","currentStudentId","subscribe","helpers","submissionList","filter","$or","find","sort","createdAt","events","event","id","currentTarget","dataset","Meteor","call","_id","currentSubmissionId","set"],"mappings":"AAAA,IAAIA,oBAAJ;AAAgBC,OAAOC,KAAP,CAAaC,QAAQ,4BAAR,CAAb,EAAmD;AAACH,YAAD,YAAaI,CAAb,EAAe;AAACJ,gBAAYI,CAAZ;AAAc;AAA9B,CAAnD,EAAmF,CAAnF;AAAsFH,OAAOC,KAAP,CAAaC,QAAQ,aAAR,CAAb;AAGtGE,SAASC,eAAT,CAAyBC,SAAzB,CAAmC,YAAW;AAAA;;AAC7C,MAAKC,OAAL,CAAa,YAAM;AAClB,MAAMC,YAAY,MAAKC,IAAL,CAAUC,gBAAV,GAA6B,MAAKD,IAAL,CAAUC,gBAAV,CAA2BC,GAA3B,EAA7B,GAAgE,IAAlF;AACA,MAAMC,YAAY,MAAKH,IAAL,CAAUI,gBAAV,GAA6B,MAAKJ,IAAL,CAAUI,gBAAV,CAA2BF,GAA3B,EAA7B,GAAgE,IAAlF;;AACA,QAAKG,SAAL,CAAe,6BAAf,EAA8CN,SAA9C,EAAyDI,SAAzD;AACA,EAJD;AAKA,CAND;AAQAR,SAASC,eAAT,CAAyBU,OAAzB,CAAiC;AAChCC,eADgC,cACf;AAChB,MAAMR,YAAY,KAAKE,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBC,GAAtB,EAAxB,GAAsD,IAAxE;AACA,MAAMC,YAAY,KAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBF,GAAtB,EAAxB,GAAsD,IAAxE;AACA,MAAMM,SAAS;AAAEC,QAAK,CAAC;AAAEV,eAAWA;AAAb,IAAD,EAA2B;AAAEI,eAAWA;AAAb,IAA3B;AAAP,GAAf;AACA,SAAOb,YAAYoB,IAAZ,CAAiBF,MAAjB,EAAyB;AAAEG,SAAM;AAAEC,eAAW,CAAC;AAAd;AAAR,GAAzB,CAAP;AACA;AAN+B,CAAjC;AASAjB,SAASC,eAAT,CAAyBiB,MAAzB,CAAgC;AAC/B,oBAD+B,YACXC,KADW,EACJ;AAC1B,MAAMC,KAAKD,MAAME,aAAN,CAAoBC,OAApB,CAA4BF,EAAvC;AACAG,SAAOC,IAAP,CAAY,oBAAZ,EAAkC;AAAEC,QAAKL;AAAP,GAAlC;AACA,EAJ8B;AAK/B,iBAL+B,YAKdD,KALc,EAKP;AACvB,MAAMC,KAAKD,MAAME,aAAN,CAAoBC,OAApB,CAA4BF,EAAvC;AACA,OAAKM,mBAAL,CAAyBC,GAAzB,CAA6BP,EAA7B;AACA;AAR8B,CAAhC","file":"imports/ui/submission/list.js.map","sourcesContent":["import { Submissions } from '/imports/api/submission.js';\r\nimport './list.html';\r\n\r\nTemplate.submission_list.onCreated(function() {\r\n\tthis.autorun(() => {\r\n\t\tconst problemId = this.data.currentProblemId ? this.data.currentProblemId.get() : null;\r\n\t\tconst studentId = this.data.currentStudentId ? this.data.currentStudentId.get() : null;\r\n\t\tthis.subscribe('Submissions.findAllByFilter', problemId, studentId);\r\n\t});\r\n});\r\n\r\nTemplate.submission_list.helpers({\r\n\tsubmissionList() {\r\n\t\tconst problemId = this.currentProblemId ? this.currentProblemId.get() : null;\r\n\t\tconst studentId = this.currentStudentId ? this.currentStudentId.get() : null;\r\n\t\tconst filter = { $or: [{ problemId: problemId }, { studentId: studentId }]};\r\n\t\treturn Submissions.find(filter, { sort: { createdAt: -1 }});\r\n\t}\r\n});\r\n\r\nTemplate.submission_list.events({\r\n\t'click .remove-btn'(event) {\r\n\t\tconst id = event.currentTarget.dataset.id;\r\n\t\tMeteor.call('Submissions.remove', { _id: id });\r\n\t},\r\n\t'click .get-btn'(event) {\r\n\t\tconst id = event.currentTarget.dataset.id;\r\n\t\tthis.currentSubmissionId.set(id);\r\n\t}\r\n});"]},"hash":"c582ba4befa8b5d01d8b976d35ba3ab65189f3e8"}
