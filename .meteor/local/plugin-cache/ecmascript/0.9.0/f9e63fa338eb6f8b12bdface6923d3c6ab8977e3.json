{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"/imports/api/submission.js","imported":["Submissions"],"specifiers":[{"kind":"named","imported":"Submissions","local":"Submissions"}]},{"source":"./list.html","imported":[],"specifiers":[]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/submission/list.js","filenameRelative":"imports/ui/submission/list.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/submission/list.js.map","sourceFileName":"imports/ui/submission/list.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"list"},"ignored":false,"code":"let Submissions;\nmodule.watch(require(\"/imports/api/submission.js\"), {\n\tSubmissions(v) {\n\t\tSubmissions = v;\n\t}\n\n}, 0);\nmodule.watch(require(\"./list.html\"));\nTemplate.submission_list.onCreated(function () {\n\tthis.autorun(() => this.subscribe('Submissions.findAllByFilter', filter));\n});\nTemplate.submission_list.helpers({\n\thasFilter() {\n\t\tconst currentFilter = this.currentFilter.get();\n\t\treturn currentFilter.problemId || currentFilter.studentId;\n\t},\n\n\tsubmissionList() {\n\t\treturn Submissions.find(this.currentFilter.get(), {\n\t\t\tfields: {\n\t\t\t\t_id: 1,\n\t\t\t\tproblemId: 1,\n\t\t\t\tstudentId: 1,\n\t\t\t\tcreatedAt: 1,\n\t\t\t\tstatus: 1,\n\t\t\t\tisExam: 1\n\t\t\t}\n\t\t});\n\t},\n\n\tisCurrentSubmission(id) {\n\t\treturn id == this.currentSubmissionId.get();\n\t}\n\n});\nTemplate.submission_list.events({\n\t'click .remove-btn'(event) {\n\t\tconst id = event.currentTarget.parentElement.dataset.id;\n\t\tMeteor.call('Submissions.remove', {\n\t\t\t_id: id\n\t\t});\n\t},\n\n\t'click .get-btn'(event) {\n\t\tconst id = event.currentTarget.dataset.id;\n\t\tthis.currentSubmissionId.set(id);\n\t}\n\n});","map":{"version":3,"sources":["imports/ui/submission/list.js"],"names":["Submissions","module","watch","require","v","Template","submission_list","onCreated","autorun","subscribe","filter","helpers","hasFilter","currentFilter","get","problemId","studentId","submissionList","find","fields","_id","createdAt","status","isExam","isCurrentSubmission","id","currentSubmissionId","events","event","currentTarget","parentElement","dataset","Meteor","call","set"],"mappings":"AAAA,IAAIA,WAAJ;AAAgBC,OAAOC,KAAP,CAAaC,QAAQ,4BAAR,CAAb,EAAmD;AAACH,aAAYI,CAAZ,EAAc;AAACJ,gBAAYI,CAAZ;AAAc;;AAA9B,CAAnD,EAAmF,CAAnF;AAAsFH,OAAOC,KAAP,CAAaC,QAAQ,aAAR,CAAb;AAGtGE,SAASC,eAAT,CAAyBC,SAAzB,CAAmC,YAAW;AAC7C,MAAKC,OAAL,CAAa,MAAM,KAAKC,SAAL,CAAe,6BAAf,EAA8CC,MAA9C,CAAnB;AACA,CAFD;AAIAL,SAASC,eAAT,CAAyBK,OAAzB,CAAiC;AAChCC,aAAY;AACX,QAAMC,gBAAgB,KAAKA,aAAL,CAAmBC,GAAnB,EAAtB;AACA,SAAQD,cAAcE,SAAd,IAA2BF,cAAcG,SAAjD;AACA,EAJ+B;;AAKhCC,kBAAiB;AAChB,SAAOjB,YAAYkB,IAAZ,CAAiB,KAAKL,aAAL,CAAmBC,GAAnB,EAAjB,EAA2C;AAAEK,WAAQ;AAAEC,SAAK,CAAP;AAAUL,eAAW,CAArB;AAAwBC,eAAW,CAAnC;AAAsCK,eAAW,CAAjD;AAAoDC,YAAQ,CAA5D;AAA+DC,YAAQ;AAAvE;AAAV,GAA3C,CAAP;AACA,EAP+B;;AAQhCC,qBAAoBC,EAApB,EAAwB;AACvB,SAAOA,MAAM,KAAKC,mBAAL,CAAyBZ,GAAzB,EAAb;AACA;;AAV+B,CAAjC;AAaAT,SAASC,eAAT,CAAyBqB,MAAzB,CAAgC;AAC/B,qBAAoBC,KAApB,EAA2B;AAC1B,QAAMH,KAAKG,MAAMC,aAAN,CAAoBC,aAApB,CAAkCC,OAAlC,CAA0CN,EAArD;AACAO,SAAOC,IAAP,CAAY,oBAAZ,EAAkC;AAAEb,QAAKK;AAAP,GAAlC;AACA,EAJ8B;;AAK/B,kBAAiBG,KAAjB,EAAwB;AACvB,QAAMH,KAAKG,MAAMC,aAAN,CAAoBE,OAApB,CAA4BN,EAAvC;AACA,OAAKC,mBAAL,CAAyBQ,GAAzB,CAA6BT,EAA7B;AACA;;AAR8B,CAAhC","file":"imports/ui/submission/list.js.map","sourcesContent":["import { Submissions } from '/imports/api/submission.js';\r\nimport './list.html';\r\n\r\nTemplate.submission_list.onCreated(function() {\r\n\tthis.autorun(() => this.subscribe('Submissions.findAllByFilter', filter));\r\n});\r\n\r\nTemplate.submission_list.helpers({\r\n\thasFilter() {\r\n\t\tconst currentFilter = this.currentFilter.get();\r\n\t\treturn (currentFilter.problemId || currentFilter.studentId);\r\n\t},\r\n\tsubmissionList() {\r\n\t\treturn Submissions.find(this.currentFilter.get(), { fields: { _id: 1, problemId: 1, studentId: 1, createdAt: 1, status: 1, isExam: 1 }});\r\n\t},\r\n\tisCurrentSubmission(id) {\r\n\t\treturn id == this.currentSubmissionId.get();\r\n\t}\r\n});\r\n\r\nTemplate.submission_list.events({\r\n\t'click .remove-btn'(event) {\r\n\t\tconst id = event.currentTarget.parentElement.dataset.id;\r\n\t\tMeteor.call('Submissions.remove', { _id: id });\r\n\t},\r\n\t'click .get-btn'(event) {\r\n\t\tconst id = event.currentTarget.dataset.id;\r\n\t\tthis.currentSubmissionId.set(id);\r\n\t}\r\n});"]},"hash":"f9e63fa338eb6f8b12bdface6923d3c6ab8977e3"}
