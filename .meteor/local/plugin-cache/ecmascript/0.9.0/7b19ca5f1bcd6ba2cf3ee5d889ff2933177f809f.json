{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"/imports/api/submission.js","imported":["Submissions"],"specifiers":[{"kind":"named","imported":"Submissions","local":"Submissions"}]},{"source":"./list.html","imported":[],"specifiers":[]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/submission/list.js","filenameRelative":"imports/ui/submission/list.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/submission/list.js.map","sourceFileName":"imports/ui/submission/list.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"list"},"ignored":false,"code":"var Submissions = void 0;\nmodule.watch(require(\"/imports/api/submission.js\"), {\n\tSubmissions: function (v) {\n\t\tSubmissions = v;\n\t}\n}, 0);\nmodule.watch(require(\"./list.html\"));\nTemplate.submission_list.onCreated(function () {\n\tvar _this = this;\n\n\tthis.autorun(function () {\n\t\treturn _this.subscribe('Submissions.findAllByFilter', _this.data.currentFilter.get());\n\t});\n});\nTemplate.submission_list.helpers({\n\thasFilter: function () {\n\t\treturn _.without(_.values(this.currentFilter.get()), null).length > 0;\n\t},\n\tsubmissionList: function () {\n\t\tSubmissions.find(this.currentFilter.get(), {\n\t\t\tfields: {\n\t\t\t\t_id: 1,\n\t\t\t\tproblemId: 1,\n\t\t\t\tstudentId: 1,\n\t\t\t\tcreatedAt: 1,\n\t\t\t\tstatus: 1,\n\t\t\t\tisExam: 1\n\t\t\t}\n\t\t});\n\t},\n\tgetStudentUsername: function (studentId) {\n\t\treturn this.getValue(Students, studentId, 'username');\n\t},\n\tgetProblemTitle: function (problemId) {\n\t\treturn this.getValue(Problems, problemId, 'title');\n\t}\n});\nTemplate.submission_list.events({\n\t'click .remove-btn': function (event) {\n\t\tvar id = event.currentTarget.parentElement.dataset.id;\n\t\tMeteor.call('Submissions.remove', {\n\t\t\t_id: id\n\t\t});\n\t},\n\t'click .update-btn': function (event) {\n\t\tMeteor.call('Submissions.update', id, {});\n\t},\n\t'click .get-btn': function (event) {\n\t\tvar id = event.currentTarget.dataset.id;\n\t\tthis.currentSubmissionId.set(id);\n\t}\n});","map":{"version":3,"sources":["imports/ui/submission/list.js"],"names":["Submissions","module","watch","require","v","Template","submission_list","onCreated","autorun","subscribe","data","currentFilter","get","helpers","hasFilter","_","without","values","length","submissionList","find","fields","_id","problemId","studentId","createdAt","status","isExam","getStudentUsername","getValue","Students","getProblemTitle","Problems","events","event","id","currentTarget","parentElement","dataset","Meteor","call","currentSubmissionId","set"],"mappings":"AAAA,IAAIA,oBAAJ;AAAgBC,OAAOC,KAAP,CAAaC,QAAQ,4BAAR,CAAb,EAAmD;AAACH,YAAD,YAAaI,CAAb,EAAe;AAACJ,gBAAYI,CAAZ;AAAc;AAA9B,CAAnD,EAAmF,CAAnF;AAAsFH,OAAOC,KAAP,CAAaC,QAAQ,aAAR,CAAb;AAGtGE,SAASC,eAAT,CAAyBC,SAAzB,CAAmC,YAAW;AAAA;;AAC7C,MAAKC,OAAL,CAAa;AAAA,SAAM,MAAKC,SAAL,CAAe,6BAAf,EAA8C,MAAKC,IAAL,CAAUC,aAAV,CAAwBC,GAAxB,EAA9C,CAAN;AAAA,EAAb;AACA,CAFD;AAIAP,SAASC,eAAT,CAAyBO,OAAzB,CAAiC;AAChCC,UADgC,cACpB;AACX,SAAOC,EAAEC,OAAF,CAAUD,EAAEE,MAAF,CAAS,KAAKN,aAAL,CAAmBC,GAAnB,EAAT,CAAV,EAA8C,IAA9C,EAAoDM,MAApD,GAA6D,CAApE;AACA,EAH+B;AAIhCC,eAJgC,cAIf;AAChBnB,cAAYoB,IAAZ,CAAiB,KAAKT,aAAL,CAAmBC,GAAnB,EAAjB,EAA2C;AAAES,WAAQ;AAAEC,SAAK,CAAP;AAAUC,eAAW,CAArB;AAAwBC,eAAW,CAAnC;AAAsCC,eAAW,CAAjD;AAAoDC,YAAQ,CAA5D;AAA+DC,YAAQ;AAAvE;AAAV,GAA3C;AACA,EAN+B;AAOhCC,mBAPgC,YAObJ,SAPa,EAOF;AAC7B,SAAO,KAAKK,QAAL,CAAcC,QAAd,EAAwBN,SAAxB,EAAmC,UAAnC,CAAP;AACA,EAT+B;AAUhCO,gBAVgC,YAUhBR,SAVgB,EAUL;AAC1B,SAAO,KAAKM,QAAL,CAAcG,QAAd,EAAwBT,SAAxB,EAAmC,OAAnC,CAAP;AACA;AAZ+B,CAAjC;AAeAlB,SAASC,eAAT,CAAyB2B,MAAzB,CAAgC;AAC/B,oBAD+B,YACXC,KADW,EACJ;AAC1B,MAAMC,KAAKD,MAAME,aAAN,CAAoBC,aAApB,CAAkCC,OAAlC,CAA0CH,EAArD;AACAI,SAAOC,IAAP,CAAY,oBAAZ,EAAkC;AAAElB,QAAKa;AAAP,GAAlC;AACA,EAJ8B;AAK/B,oBAL+B,YAKXD,KALW,EAKJ;AAC1BK,SAAOC,IAAP,CAAY,oBAAZ,EAAkCL,EAAlC,EAAsC,EAAtC;AACA,EAP8B;AAQ/B,iBAR+B,YAQdD,KARc,EAQP;AACvB,MAAMC,KAAKD,MAAME,aAAN,CAAoBE,OAApB,CAA4BH,EAAvC;AACA,OAAKM,mBAAL,CAAyBC,GAAzB,CAA6BP,EAA7B;AACA;AAX8B,CAAhC","file":"imports/ui/submission/list.js.map","sourcesContent":["import { Submissions } from '/imports/api/submission.js';\r\nimport './list.html';\r\n\r\nTemplate.submission_list.onCreated(function() {\r\n\tthis.autorun(() => this.subscribe('Submissions.findAllByFilter', this.data.currentFilter.get()));\r\n});\r\n\r\nTemplate.submission_list.helpers({\r\n\thasFilter() {\r\n\t\treturn _.without(_.values(this.currentFilter.get()), null).length > 0;\r\n\t},\r\n\tsubmissionList() {\r\n\t\tSubmissions.find(this.currentFilter.get(), { fields: { _id: 1, problemId: 1, studentId: 1, createdAt: 1, status: 1, isExam: 1 }});\r\n\t},\r\n\tgetStudentUsername(studentId) {\r\n\t\treturn this.getValue(Students, studentId, 'username');\r\n\t},\r\n\tgetProblemTitle(problemId) {\r\n\t\treturn this.getValue(Problems, problemId, 'title');\r\n\t}\r\n});\r\n\r\nTemplate.submission_list.events({\r\n\t'click .remove-btn'(event) {\r\n\t\tconst id = event.currentTarget.parentElement.dataset.id;\r\n\t\tMeteor.call('Submissions.remove', { _id: id });\r\n\t},\r\n\t'click .update-btn'(event) {\r\n\t\tMeteor.call('Submissions.update', id, {});\r\n\t},\r\n\t'click .get-btn'(event) {\r\n\t\tconst id = event.currentTarget.dataset.id;\r\n\t\tthis.currentSubmissionId.set(id);\r\n\t}\r\n});"]},"hash":"7b19ca5f1bcd6ba2cf3ee5d889ff2933177f809f"}
