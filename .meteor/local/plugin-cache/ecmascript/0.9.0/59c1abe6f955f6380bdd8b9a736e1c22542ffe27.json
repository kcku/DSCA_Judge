{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"/imports/api/problem.js","imported":["ProblemTests"],"specifiers":[{"kind":"named","imported":"ProblemTests","local":"ProblemTests"}]},{"source":"./test.html","imported":[],"specifiers":[]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/problem/test.js","filenameRelative":"imports/ui/problem/test.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/problem/test.js.map","sourceFileName":"imports/ui/problem/test.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"test"},"ignored":false,"code":"var ProblemTests = void 0;\nmodule.watch(require(\"/imports/api/problem.js\"), {\n\tProblemTests: function (v) {\n\t\tProblemTests = v;\n\t}\n}, 0);\nmodule.watch(require(\"./test.html\"));\nTemplate.problem_test.onCreated(function () {\n\tvar _this = this;\n\n\tthis.currentProblemTestId = new ReactiveVar();\n\tthis.autorun(function () {\n\t\treturn _this.subscribe('ProblemTests.findOne', _this.currentProblemTestId.get());\n\t});\n\tthis.autorun(function () {\n\t\tconsole.log('hhhh');\n\n\t\t_this.subscribe('ProblemTests.findAllByProblem', _this.data.currentProblemId.get());\n\t});\n});\nTemplate.problem_test.onRendered(function () {\n\tthis.$('[class*=edit]').hide();\n});\nTemplate.problem_test.helpers({\n\tproblemTestList: function () {\n\t\tconsole.log('gggg');\n\t\treturn ProblemTests.find({\n\t\t\tproblemId: this.currentProblemId.get()\n\t\t}, {\n\t\t\tfields: {\n\t\t\t\t_id: 1,\n\t\t\t\tisPublic: 1\n\t\t\t},\n\t\t\tsort: {\n\t\t\t\t_id: 1\n\t\t\t}\n\t\t});\n\t},\n\tcurrentProblemTest: function () {\n\t\tvar problemTest = ProblemTests.findOne({\n\t\t\t_id: Template.instance().currentProblemTestId.get()\n\t\t});\n\n\t\tif (problemTest == undefined) {\n\t\t\tTemplate.instance().currentProblemTestId.set(null);\n\t\t}\n\n\t\treturn problemTest;\n\t}\n});\nTemplate.problem_test.events({\n\t'click .insert-btn': function () {\n\t\tMeteor.call('ProblemTests.insert', this.currentProblemId.get());\n\t},\n\t'click .remove-btn': function (event) {\n\t\tvar id = event.currentTarget.dataset.id;\n\t\tMeteor.call('ProblemTests.remove', {\n\t\t\t_id: id\n\t\t});\n\t},\n\t'click .get-btn': function (event, instance) {\n\t\tvar id = event.currentTarget.dataset.id;\n\t\tinstance.currentProblemTestId.set(id);\n\t},\n\t'blur [class*=edit]': function (event, instance) {\n\t\tvar _Meteor$call;\n\n\t\tvar target = event.currentTarget;\n\t\tvar toggle = target.dataset.toggle;\n\t\tvar field = target.name;\n\t\tvar value = target.value;\n\t\tinstance.$(target).hide();\n\t\tinstance.$(toggle).show();\n\t\tMeteor.call('ProblemTests.update', instance.currentProblemTestId.get(), (_Meteor$call = {}, _Meteor$call[field] = value, _Meteor$call));\n\t},\n\t'click [class*=view]': function (event, instance) {\n\t\tif (!Meteor.isAdmin()) return;\n\t\tvar target = event.currentTarget;\n\t\tvar toggle = target.dataset.toggle;\n\t\tinstance.$(target).hide();\n\t\tinstance.$(toggle).show().focus();\n\t},\n\t'click [type=checkbox]': function (event, instance) {\n\t\tvar _Meteor$call2;\n\n\t\tvar target = event.currentTarget;\n\t\tvar field = target.name;\n\t\tvar value = target.checked;\n\t\tMeteor.call('ProblemTests.update', instance.currentProblemTestId.get(), (_Meteor$call2 = {}, _Meteor$call2[field] = value, _Meteor$call2));\n\t}\n});","map":{"version":3,"sources":["imports/ui/problem/test.js"],"names":["ProblemTests","module","watch","require","v","Template","problem_test","onCreated","currentProblemTestId","ReactiveVar","autorun","subscribe","get","console","log","data","currentProblemId","onRendered","$","hide","helpers","problemTestList","find","problemId","fields","_id","isPublic","sort","currentProblemTest","problemTest","findOne","instance","undefined","set","events","Meteor","call","event","id","currentTarget","dataset","target","toggle","field","name","value","show","isAdmin","focus","checked"],"mappings":"AAAA,IAAIA,qBAAJ;AAAiBC,OAAOC,KAAP,CAAaC,QAAQ,yBAAR,CAAb,EAAgD;AAACH,aAAD,YAAcI,CAAd,EAAgB;AAACJ,iBAAaI,CAAb;AAAe;AAAhC,CAAhD,EAAkF,CAAlF;AAAqFH,OAAOC,KAAP,CAAaC,QAAQ,aAAR,CAAb;AAGtGE,SAASC,YAAT,CAAsBC,SAAtB,CAAgC,YAAW;AAAA;;AAC1C,MAAKC,oBAAL,GAA4B,IAAIC,WAAJ,EAA5B;AACA,MAAKC,OAAL,CAAa;AAAA,SAAM,MAAKC,SAAL,CAAe,sBAAf,EAAuC,MAAKH,oBAAL,CAA0BI,GAA1B,EAAvC,CAAN;AAAA,EAAb;AACA,MAAKF,OAAL,CAAa,YAAM;AAACG,UAAQC,GAAR,CAAY,MAAZ;;AAAoB,QAAKH,SAAL,CAAe,+BAAf,EAAgD,MAAKI,IAAL,CAAUC,gBAAV,CAA2BJ,GAA3B,EAAhD;AAAkF,EAA1H;AACA,CAJD;AAMAP,SAASC,YAAT,CAAsBW,UAAtB,CAAiC,YAAW;AAC3C,MAAKC,CAAL,CAAO,eAAP,EAAwBC,IAAxB;AACA,CAFD;AAIAd,SAASC,YAAT,CAAsBc,OAAtB,CAA8B;AAC7BC,gBAD6B,cACX;AACjBR,UAAQC,GAAR,CAAY,MAAZ;AACA,SAAOd,aAAasB,IAAb,CAAkB;AAAEC,cAAW,KAAKP,gBAAL,CAAsBJ,GAAtB;AAAb,GAAlB,EAA8D;AAAEY,WAAQ;AAAEC,SAAK,CAAP;AAAUC,cAAU;AAApB,IAAV;AAAmCC,SAAM;AAAEF,SAAK;AAAP;AAAzC,GAA9D,CAAP;AACA,EAJ4B;AAK7BG,mBAL6B,cAKR;AACpB,MAAMC,cAAc7B,aAAa8B,OAAb,CAAqB;AAAEL,QAAKpB,SAAS0B,QAAT,GAAoBvB,oBAApB,CAAyCI,GAAzC;AAAP,GAArB,CAApB;;AAEA,MAAIiB,eAAeG,SAAnB,EAA8B;AAC7B3B,YAAS0B,QAAT,GAAoBvB,oBAApB,CAAyCyB,GAAzC,CAA6C,IAA7C;AACA;;AACD,SAAOJ,WAAP;AACA;AAZ4B,CAA9B;AAeAxB,SAASC,YAAT,CAAsB4B,MAAtB,CAA6B;AAC5B,oBAD4B,cACN;AACrBC,SAAOC,IAAP,CAAY,qBAAZ,EAAmC,KAAKpB,gBAAL,CAAsBJ,GAAtB,EAAnC;AACA,EAH2B;AAI5B,oBAJ4B,YAIRyB,KAJQ,EAID;AAC1B,MAAMC,KAAKD,MAAME,aAAN,CAAoBC,OAApB,CAA4BF,EAAvC;AACAH,SAAOC,IAAP,CAAY,qBAAZ,EAAmC;AAAEX,QAAKa;AAAP,GAAnC;AACA,EAP2B;AAQ5B,iBAR4B,YAQXD,KARW,EAQJN,QARI,EAQM;AACjC,MAAMO,KAAKD,MAAME,aAAN,CAAoBC,OAApB,CAA4BF,EAAvC;AACAP,WAASvB,oBAAT,CAA8ByB,GAA9B,CAAkCK,EAAlC;AACA,EAX2B;AAY5B,qBAZ4B,YAYPD,KAZO,EAYAN,QAZA,EAYU;AAAA;;AACrC,MAAMU,SAASJ,MAAME,aAArB;AACA,MAAMG,SAASD,OAAOD,OAAP,CAAeE,MAA9B;AACA,MAAMC,QAAQF,OAAOG,IAArB;AACA,MAAMC,QAAQJ,OAAOI,KAArB;AAEAd,WAASb,CAAT,CAAWuB,MAAX,EAAmBtB,IAAnB;AACAY,WAASb,CAAT,CAAWwB,MAAX,EAAmBI,IAAnB;AAEAX,SAAOC,IAAP,CAAY,qBAAZ,EAAmCL,SAASvB,oBAAT,CAA8BI,GAA9B,EAAnC,mCAA2E+B,KAA3E,IAAmFE,KAAnF;AACA,EAtB2B;AAuB5B,sBAvB4B,YAuBNR,KAvBM,EAuBCN,QAvBD,EAuBW;AACtC,MAAI,CAACI,OAAOY,OAAP,EAAL,EAAuB;AAEvB,MAAMN,SAASJ,MAAME,aAArB;AACA,MAAMG,SAASD,OAAOD,OAAP,CAAeE,MAA9B;AAEAX,WAASb,CAAT,CAAWuB,MAAX,EAAmBtB,IAAnB;AACAY,WAASb,CAAT,CAAWwB,MAAX,EAAmBI,IAAnB,GAA0BE,KAA1B;AACA,EA/B2B;AAgC5B,wBAhC4B,YAgCJX,KAhCI,EAgCGN,QAhCH,EAgCa;AAAA;;AACxC,MAAMU,SAASJ,MAAME,aAArB;AACA,MAAMI,QAAQF,OAAOG,IAArB;AACA,MAAMC,QAAQJ,OAAOQ,OAArB;AAEAd,SAAOC,IAAP,CAAY,qBAAZ,EAAmCL,SAASvB,oBAAT,CAA8BI,GAA9B,EAAnC,qCAA2E+B,KAA3E,IAAmFE,KAAnF;AACA;AAtC2B,CAA7B","file":"imports/ui/problem/test.js.map","sourcesContent":["import { ProblemTests } from '/imports/api/problem.js';\r\nimport './test.html';\r\n\r\nTemplate.problem_test.onCreated(function() {\r\n\tthis.currentProblemTestId = new ReactiveVar();\r\n\tthis.autorun(() => this.subscribe('ProblemTests.findOne', this.currentProblemTestId.get()));\r\n\tthis.autorun(() => {console.log('hhhh');this.subscribe('ProblemTests.findAllByProblem', this.data.currentProblemId.get())});\r\n});\r\n\r\nTemplate.problem_test.onRendered(function() {\r\n\tthis.$('[class*=edit]').hide();\r\n});\r\n\r\nTemplate.problem_test.helpers({\r\n\tproblemTestList() {\r\n\t\tconsole.log('gggg');\r\n\t\treturn ProblemTests.find({ problemId: this.currentProblemId.get() }, { fields: { _id: 1, isPublic: 1 }, sort: { _id: 1 }});\r\n\t},\r\n\tcurrentProblemTest() {\r\n\t\tconst problemTest = ProblemTests.findOne({ _id: Template.instance().currentProblemTestId.get() });\r\n\t\t\r\n\t\tif (problemTest == undefined) {\r\n\t\t\tTemplate.instance().currentProblemTestId.set(null);\r\n\t\t}\r\n\t\treturn problemTest;\r\n\t}\r\n});\r\n\r\nTemplate.problem_test.events({\r\n\t'click .insert-btn'() {\r\n\t\tMeteor.call('ProblemTests.insert', this.currentProblemId.get());\r\n\t},\r\n\t'click .remove-btn'(event) {\r\n\t\tconst id = event.currentTarget.dataset.id;\r\n\t\tMeteor.call('ProblemTests.remove', { _id: id });\r\n\t},\r\n\t'click .get-btn'(event, instance) {\r\n\t\tconst id = event.currentTarget.dataset.id;\r\n\t\tinstance.currentProblemTestId.set(id);\r\n\t},\r\n\t'blur [class*=edit]'(event, instance) {\r\n\t\tconst target = event.currentTarget;\r\n\t\tconst toggle = target.dataset.toggle;\r\n\t\tconst field = target.name;\r\n\t\tconst value = target.value;\r\n\r\n\t\tinstance.$(target).hide();\r\n\t\tinstance.$(toggle).show();\r\n\t\t\r\n\t\tMeteor.call('ProblemTests.update', instance.currentProblemTestId.get(), { [field]: value });\r\n\t},\r\n\t'click [class*=view]'(event, instance) {\r\n\t\tif (!Meteor.isAdmin()) return;\r\n\t\t\r\n\t\tconst target = event.currentTarget;\r\n\t\tconst toggle = target.dataset.toggle;\r\n\r\n\t\tinstance.$(target).hide();\r\n\t\tinstance.$(toggle).show().focus();\r\n\t},\r\n\t'click [type=checkbox]'(event, instance) {\r\n\t\tconst target = event.currentTarget;\r\n\t\tconst field = target.name;\r\n\t\tconst value = target.checked;\r\n\r\n\t\tMeteor.call('ProblemTests.update', instance.currentProblemTestId.get(), { [field]: value });\r\n\t}\r\n});"]},"hash":"59c1abe6f955f6380bdd8b9a736e1c22542ffe27"}
